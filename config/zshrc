source "${HOME}/.zgen/zgen.zsh"

if ! zgen saved; then
  echo "Creating a zgen save"

  zgen oh-my-zsh

  # Dev
  
  # Git
  zgen oh-my-zsh plugins/git
  zgen load bobthecow/git-flow-completion
  # System
  zgen oh-my-zsh plugins/cp
  zgen oh-my-zsh plugins/history
  zgen oh-my-zsh plugins/man
  zgen oh-my-zsh plugins/sudo
  zgen oh-my-zsh plugins/ssh-agent
  zgen oh-my-zsh plugins/ubuntu
  zgen oh-my-zsh plugins/wd
  # Docker
  zgen oh-my-zsh plugins/docker
  zgen oh-my-zsh plugins/docker-compose
  # Python
  zgen oh-my-zsh plugins/python
  zgen oh-my-zsh plugins/pip
  # PHP
  zgen oh-my-zsh plugins/composer
  # Node
  zgen oh-my-zsh plugins/nvm
  # Terraform
  zgen oh-my-zsh plugins/terraform
  
  zgen oh-my-zsh themes/agnoster

  zgen load chrissicool/zsh-256color
  zgen load joel-porquet/zsh-dircolors-solarized

  zgen save
fi

if command -v nvim 2>/dev/null >&2; then
    alias vim="nvim"
    export EDITOR="nvim"
else
    export EDITOR="vim"
fi

if [[ -e ~/.zsh_local ]]; then
    source ~/.zsh_local
fi
